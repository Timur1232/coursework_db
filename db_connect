
type Employee struct {
	FullName string
	Position string
}

conn, err := pgx.Connect(context.Background(), "postgres://postgres:postgres@127.0.0.1:5432/test")
if err != nil {
    fmt.Println(err.Error())
    return
}
defer conn.Close(context.Background())

rows, err := conn.Query(context.Background(), "select full_name, position from employees;")
if err != nil {
    fmt.Println(err.Error())
    return
}

defer rows.Close()

for rows.Next() {
    var employee Employee
    err := rows.Scan(&employee.FullName, &employee.Position)
    if err != nil {
        fmt.Println(err.Error())
        return
    }

    fmt.Printf("full_name = %s, position = %s\n", employee.FullName, employee.Position)
}
